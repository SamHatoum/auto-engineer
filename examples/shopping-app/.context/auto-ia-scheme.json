{
  "schema_description": "UI schema for a seasonal shopping assistant application that helps users find products through AI-powered recommendations",
  "atoms": {
    "description": "Basic UI primitives used throughout the application",
    "items": {}
  },
  "molecules": {
    "description": "Reusable components composed from atoms",
    "items": {
      "ShoppingCriteriaForm": {
        "description": "Form for entering shopping criteria with examples and submission",
        "composition": {
          "atoms": ["<TextField> | Multiline", "<Button>"]
        }
      },
      "SuggestedItemCard": {
        "description": "Card displaying a suggested item with quantity selector and reason",
        "composition": {
          "atoms": ["<Card>", "<CardHeader>", "<TextField>", "<Button>"]
        }
      },
      "QuantitySelector": {
        "description": "Component for adjusting item quantities",
        "composition": {
          "atoms": ["<TextField>", "!!<IconButton>"]
        }
      }
    }
  },
  "organisms": {
    "description": "Smart UI components with data-fetching and business logic",
    "items": {
      "AssistantChatInterface": {
        "description": "Main interface for entering shopping criteria and starting a session",
        "composition": {
          "molecules": ["ShoppingCriteriaForm"]
        },
        "data_requirements": [
          {
            "type": "mutation",
            "description": "Submit shopping criteria to start a session",
            "trigger": "When user submits criteria form",
            "details": {
              "source": "User input form",
              "gql": "mutation EnterShoppingCriteria($input: EnterShoppingCriteriaInput!) {\n        enterShoppingCriteria(input: $input) {\n          success\n          error {\n            type\n            message\n          }\n        }\n      }",
              "payload_schema": {
                "sessionId": "string",
                "criteria": "string"
              }
            }
          }
        ],
        "specs": [
          "allow shopper to describe their shopping needs in natural language",
          "provide a text input for entering criteria",
          "show examples of what to include (age, interests, budget)",
          "show a button to submit the criteria",
          "generate a persisted session id for a visit",
          "show the header on top of the page"
        ]
      },
      "SuggestedItemsList": {
        "description": "Display suggested items with selection and cart functionality",
        "composition": {
          "molecules": ["SuggestedItemCard"]
        },
        "data_requirements": [
          {
            "type": "query",
            "description": "Fetch suggested items for the session",
            "trigger": "When page loads or session updates",
            "details": {
              "source": "Session-based suggestions",
              "gql": "query GetSuggestedItems($sessionId: ID!) {\n        suggestedItems(sessionId: $sessionId) {\n          items {\n            productId\n            name\n            quantity\n            reason\n          }\n        }\n      }",
              "payload_schema": {
                "sessionId": "ID"
              }
            }
          }
        ],
        "specs": [
          "display all suggested items with names and reasons",
          "show quantity selectors for each item",
          "have an \"Add to Cart\" button for selected items",
          "allow removing items from the suggestions",
          "allow selecting specific items to add",
          "update quantities before adding to cart",
          "provide feedback when items are added"
        ]
      },
      "PageHeader": {
        "description": "Header component shown on top of pages",
        "composition": {
          "molecules": []
        }
      }
    }
  },
  "pages": {
    "description": "Top-level application pages and their routing",
    "items": {
      "AssistantChatPage": {
        "route": "/",
        "description": "Main page where users enter shopping criteria",
        "layout": {
          "organisms": ["PageHeader", "AssistantChatInterface"]
        },
        "navigation": [
          {
            "on": "Submit criteria",
            "to": "SuggestedItemsPage"
          }
        ],
        "data_requirements": [
          {
            "type": "mutation",
            "description": "Submit shopping criteria",
            "trigger": "When user submits form",
            "details": {
              "source": "User form input",
              "gql": "mutation EnterShoppingCriteria($input: EnterShoppingCriteriaInput!) {\n        enterShoppingCriteria(input: $input) {\n          success\n          error {\n            type\n            message\n          }\n        }\n      }",
              "payload_schema": {
                "sessionId": "string",
                "criteria": "string"
              }
            }
          }
        ]
      },
      "SuggestedItemsPage": {
        "route": "/suggested-items/:sessionId",
        "description": "Page displaying AI-suggested items for the shopping criteria",
        "layout": {
          "organisms": ["PageHeader", "SuggestedItemsList"]
        },
        "navigation": [],
        "data_requirements": [
          {
            "type": "query",
            "description": "Get suggested items for session",
            "trigger": "When page loads",
            "details": {
              "source": "Session suggestions",
              "gql": "query GetSuggestedItems($sessionId: ID!) {\n        suggestedItems(sessionId: $sessionId) {\n          items {\n            productId\n            name\n            quantity\n            reason\n          }\n        }\n      }",
              "payload_schema": {
                "sessionId": "ID"
              }
            }
          }
        ]
      }
    }
  }
}
