{
  "schema_description": "A questionnaire application with administrative dashboard for managing surveys, tracking responses, and analyzing data",
  "atoms": {
    "description": "Atomic UI primitives reused from the design system",
    "items": {}
  },
  "molecules": {
    "description": "Reusable components composed from atoms",
    "items": {
      "HeroSection": {
        "description": "Welcome message section with call-to-action",
        "composition": {
          "atoms": ["card", "button"]
        }
      },
      "QuestionCard": {
        "description": "Individual question display with answer input",
        "composition": {
          "atoms": ["card", "button", "radio-group", "textarea"]
        }
      },
      "ProgressIndicator": {
        "description": "Shows questionnaire completion progress",
        "composition": {
          "atoms": ["progress", "badge"]
        }
      },
      "QuestionList": {
        "description": "List of answered and remaining questions",
        "composition": {
          "atoms": ["card", "checkbox"]
        }
      },
      "SubmissionConfirmation": {
        "description": "Success message after questionnaire submission",
        "composition": {
          "atoms": ["alert", "button"]
        }
      },
      "SurveyCard": {
        "description": "Card displaying survey information and quick actions",
        "composition": {
          "atoms": ["card", "button", "badge"]
        }
      },
      "ResponseChart": {
        "description": "Visual representation of response data",
        "composition": {
          "atoms": ["card"]
        }
      },
      "TemplateCard": {
        "description": "Template display with usage statistics",
        "composition": {
          "atoms": ["card", "button", "badge"]
        }
      },
      "CompletionTracker": {
        "description": "Visual progress tracking for completion rates",
        "composition": {
          "atoms": ["progress", "card"]
        }
      },
      "ResponseHistoryItem": {
        "description": "Individual response history entry",
        "composition": {
          "atoms": ["card", "button"]
        }
      }
    }
  },
  "organisms": {
    "description": "Smart UI components with data-fetching or logic",
    "items": {
      "QuestionnaireProgress": {
        "description": "Displays current progress and manages question navigation",
        "composition": {
          "molecules": ["ProgressIndicator", "QuestionList", "QuestionCard"]
        },
        "data_requirements": [
          {
            "type": "query",
            "description": "Fetches current questionnaire progress and status",
            "trigger": "On page load and after each answer",
            "details": {
              "source": "QuestionnaireProgress projection",
              "gql": "query QuestionnaireProgress($participantId: ID!) {\n  questionnaireProgress(participantId: $participantId) {\n    questionnaireId\n    participantId\n    currentQuestionId\n    remainingQuestions\n    status\n    answers {\n      questionId\n      value\n    }\n  }\n}"
            }
          }
        ],
        "specs": [
          "focus on the current question based on the progress state",
          "display the list of answered questions",
          "display the list of remaining questions",
          "show a progress indicator that is always visible as the user scrolls"
        ]
      },
      "QuestionnaireSubmission": {
        "description": "Handles answer submission and questionnaire completion",
        "composition": {
          "molecules": ["QuestionCard", "SubmissionConfirmation"]
        },
        "data_requirements": [
          {
            "type": "mutation",
            "description": "Submits an answer to a specific question",
            "trigger": "When user answers a question",
            "details": {
              "source": "AnswerQuestion command",
              "gql": "mutation AnswerQuestion($input: AnswerQuestionInput!) {\n  answerQuestion(input: $input) {\n    success\n  }\n}"
            }
          },
          {
            "type": "mutation",
            "description": "Submits the completed questionnaire",
            "trigger": "When user clicks submit button",
            "details": {
              "source": "SubmitQuestionnaire command",
              "gql": "mutation SubmitQuestionnaire($input: SubmitQuestionnaireInput!) {\n  submitQuestionnaire(input: $input) {\n    success\n  }\n}"
            }
          },
          {
            "type": "query",
            "description": "Checks if questionnaire is ready for submission",
            "trigger": "After each answer is submitted",
            "details": {
              "source": "QuestionnaireProgress projection",
              "gql": "query QuestionnaireProgress($participantId: ID!) {\n  questionnaireProgress(participantId: $participantId) {\n    questionnaireId\n    participantId\n    status\n    currentQuestionId\n    remainingQuestions\n    answers {\n      questionId\n      value\n    }\n  }\n}"
            }
          }
        ],
        "specs": [
          "displays a success message when the answer is submitted",
          "display an error message when the answer submission is rejected",
          "enable the submit button when all questions are answered",
          "disable the submit button when all questions have not been answered",
          "display a confirmation message upon successful submission"
        ]
      },
      "DashboardSidebar": {
        "description": "Navigation sidebar with all app sections",
        "composition": {
          "molecules": []
        }
      },
      "DashboardHeader": {
        "description": "Top bar with logo, profile menu, and notifications",
        "composition": {
          "molecules": []
        }
      },
      "GlobalWidgets": {
        "description": "Persistent widgets showing total responses, active surveys, completion rate",
        "composition": {
          "molecules": ["CompletionTracker"]
        }
      },
      "SurveyOverview": {
        "description": "Active surveys summary and response rate overview",
        "composition": {
          "molecules": ["SurveyCard", "ProgressIndicator"]
        }
      },
      "RecentResponses": {
        "description": "List of recent survey responses",
        "composition": {
          "molecules": ["ResponseHistoryItem"]
        }
      },
      "QuickActions": {
        "description": "Quick access buttons for main actions",
        "composition": {
          "molecules": []
        }
      },
      "SurveyCreator": {
        "description": "Form for creating new surveys with templates",
        "composition": {
          "molecules": ["TemplateCard"]
        }
      },
      "AnalyticsDashboard": {
        "description": "Charts and analytics for response data",
        "composition": {
          "molecules": ["ResponseChart"]
        }
      },
      "TemplateManager": {
        "description": "Template listing and management interface",
        "composition": {
          "molecules": ["TemplateCard"]
        }
      },
      "CompletionRateTracker": {
        "description": "Completion rate tracking and target setting",
        "composition": {
          "molecules": ["CompletionTracker"]
        }
      },
      "ResponseGoalsTracker": {
        "description": "Response goals setting and progress tracking",
        "composition": {
          "molecules": ["CompletionTracker"]
        }
      },
      "ResponseHistoryViewer": {
        "description": "Full response history with filtering and export",
        "composition": {
          "molecules": ["ResponseHistoryItem"]
        }
      }
    }
  },
  "pages": {
    "description": "Top-level views composed of organisms, molecules, and atoms",
    "items": {
      "Homepage": {
        "route": "/",
        "description": "Landing page with welcome message and questionnaire start option",
        "layout": {
          "organisms": ["HeroSection"]
        },
        "navigation": [
          {
            "on": "Start questionnaire button click",
            "to": "QuestionnairePage"
          }
        ],
        "specs": ["show a hero section with a welcome message", "allow user to start the questionnaire"]
      },
      "QuestionnairePage": {
        "route": "/questionnaire",
        "description": "Main questionnaire interface for answering questions and tracking progress",
        "layout": {
          "organisms": ["QuestionnaireProgress", "QuestionnaireSubmission"]
        },
        "navigation": [
          {
            "on": "Questionnaire submission complete",
            "to": "Homepage"
          }
        ]
      },
      "DashboardHome": {
        "route": "/dashboard",
        "description": "Main dashboard with survey overview and recent activity",
        "layout": {
          "organisms": [
            "DashboardSidebar",
            "DashboardHeader",
            "GlobalWidgets",
            "SurveyOverview",
            "RecentResponses",
            "QuickActions"
          ]
        },
        "navigation": [
          {
            "on": "Create Survey click",
            "to": "CreateSurveyPage"
          },
          {
            "on": "Analytics click",
            "to": "AnalyticsPage"
          },
          {
            "on": "Templates click",
            "to": "TemplatesPage"
          }
        ],
        "specs": [
          "show active surveys summary and response rate overview",
          "display recent survey responses list",
          "show visual progress of completion rate goals",
          "quick access buttons for Create Survey, Analytics, Templates"
        ]
      },
      "CreateSurveyPage": {
        "route": "/create-survey",
        "description": "Survey creation interface with templates and question types",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "SurveyCreator"]
        },
        "navigation": [
          {
            "on": "Survey created",
            "to": "DashboardHome"
          }
        ],
        "specs": [
          "allow entering survey title, description, and question types",
          "show recent/frequent question templates for quick selection",
          "display confirmation toast after creating survey",
          "update survey dashboard and analytics in real-time"
        ]
      },
      "AnalyticsPage": {
        "route": "/analytics",
        "description": "Response analytics with charts and filtering options",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "AnalyticsDashboard"]
        },
        "navigation": [],
        "specs": [
          "show daily and weekly response rate charts",
          "highlight surveys with highest engagement",
          "allow filtering by survey type or date range",
          "update dynamically when new responses are received"
        ]
      },
      "TemplatesPage": {
        "route": "/templates",
        "description": "Template management interface",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "TemplateManager"]
        },
        "navigation": [],
        "specs": [
          "list all survey templates with usage count and last modified date",
          "allow creating, editing, and deleting survey templates",
          "show monthly summary of template usage statistics",
          "highlight most popular and recently used templates"
        ]
      },
      "CompletionTrackerPage": {
        "route": "/completion-tracker",
        "description": "Survey completion tracking and target setting",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "CompletionRateTracker"]
        },
        "navigation": [],
        "specs": [
          "show current completion rate and target progress",
          "allow setting completion rate targets",
          "automatically track new survey completions",
          "display visual completion progress bar consistently in shell"
        ]
      },
      "ResponseGoalsPage": {
        "route": "/response-goals",
        "description": "Response goals tracking and target management",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "ResponseGoalsTracker"]
        },
        "navigation": [],
        "specs": [
          "allow setting monthly/weekly response targets",
          "show remaining response targets as a progress bar",
          "highlight underperforming surveys",
          "update in real-time when responses are received"
        ]
      },
      "ResponseHistoryPage": {
        "route": "/response-history",
        "description": "Full response history with filtering and export capabilities",
        "layout": {
          "organisms": ["DashboardSidebar", "DashboardHeader", "GlobalWidgets", "ResponseHistoryViewer"]
        },
        "navigation": [],
        "specs": [
          "allow viewing full response history",
          "filter by survey type, date, or completion status",
          "view detailed response data and export individual responses",
          "show contribution of each response to daily/weekly/monthly engagement totals"
        ]
      }
    }
  }
}
